#
# The team data in team.yaml is our starting point.
# Index that data using a person's `id` as the key.
#
teamByName = mapKeys(team.yaml, =id):

#
# Index page
# This is generated by invoking the index page template.
#
index.html = index.ori():

index.ori: |
  {{#map teamByName}}
    <a href="team/{{@key}}.html" style="display: inline-block;">
      <img src="thumbnails/{{@key}}.jpg" alt="Picture of {{name}}" style="display: block;" />
      {{name}}
    </a>
  {{/map}}

# Thumbnails are created by applying the thumbnail function to the headshots.
thumbnails = map(headshots, thumbnail):

#
# Team area
# This transforms the indexed data for a person using the person template.
#
team = map(teamByName, person.ori, '', '.html'):

person.ori: |
  <img src="../headshots/{{id}}.jpg" alt="Picture of {{name}}">
  <h2>{{name}}</h2>
  <div>
    {{position}}, {{location}}
  </div>
