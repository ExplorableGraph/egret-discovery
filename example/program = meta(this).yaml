#
# Starting point is our team data
#
team.yaml:
  - id: Alice
    name: Alice Wijaya
    location: Jakarta
    position: Experience Designer
  - id: Bob
    name: Bob Cardenas
    location: Lima
    position: Administrator
  - id: Carol
    name: Carol Davenhall
    location: Los Angeles
    position: President

#
# Use the person's `id` as the key for their data
#
teamByName = mapKeys(team.yaml, =id):

#
# Create the main page by mapping the indexed data to the Origami template fragment.
#
index.html = this().ori: |
  {{#map teamByName}}
    <li>
      <a href="team/{{@key}}.html">{{name}}</a>
    </li>
  {{/map}}

#
# An Origami template for an invidual team member's page
#
person.ori: |
  <img src="../../headshots/{{id}}.jpg" alt="{{name}}">
  <h2>{{name}}</h2>
  <div>
    {{position}}, {{location}}
  </div>

#
# The /team area of the site transforms the indexed data using the person template.
#
team = map(teamByName, person.ori, '', '.html'):
