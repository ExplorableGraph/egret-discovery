#
# Starting point is our team data
#
team.yaml:
  - id: alice
    name: Alice Wijaya
    location: Jakarta
    position: Experience Designer
    bio: (Alice's bio goes here)
  - id: imani
    name: Imani Davenhall
    location: Los Angeles
    position: President
    bio: (Imani's bio goes here)
  - id: ines
    name: Ines Silva
    location: Lisbon
    position: Editor
    bio: (Ines's bio goes here)

#
# Use the person's `id` as the key for their data
#
indexed.yaml = defineKey(team.yaml, 'id'):

#
# Create the main page by mapping the indexed data to the Origami template fragment.
#
index.html = this().ori: |
  {{ shallowMap indexed.yaml, =`
    <li>
      <a href="team/{{ @key }}">{{ name }}</a>
      {{ position }}
    </li>
  ` }}

#
# An Origami template for an invidual team member's page
#
person.ori: |
  <img src="/src/assets/headshots/{{ id }}.jpg" alt="{{ name }}">
  <h2>{{ name }}</h2>
  <div>
    {{ position }}, {{ location }}
  </div>
  <p>{{ bio }}</p>

#
# The /team area of the site transforms the indexed data using the person template.
#
team = shallowMap(indexed.yaml, person.ori):
